{"ast":null,"code":"var _jsxFileName = \"/home/lucas/projeto/zebify/frontend/src/components/navbar.js\",\n  _process$env$REACT_AP,\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../context/authContext\";\nimport { FaUsers, FaHome, FaUser, FaPlus } from \"react-icons/fa\"; // ⬅️ novos ícones\nimport \"../css/navbar.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API = (_process$env$REACT_AP = process.env.REACT_APP_API_URL) !== null && _process$env$REACT_AP !== void 0 ? _process$env$REACT_AP : \"http://localhost:3001\";\nconst Navbar = () => {\n  _s();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [pedidos, setPedidos] = useState(0);\n\n  /* ---------- contagem de pedidos ---------- */\n  const buscarPedidos = async () => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) return;\n    try {\n      const res = await fetch(`${API}/api/friends/requests`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await res.json();\n      setPedidos(data.length);\n    } catch (err) {\n      console.error(\"Erro ao buscar pedidos:\", err.message);\n    }\n  };\n  useEffect(() => {\n    if (!user) return;\n    buscarPedidos();\n    const t = setInterval(buscarPedidos, 10000); // 10 s\n    return () => clearInterval(t);\n  }, [user]);\n  /* ----------------------------------------- */\n\n  const handleLogout = () => {\n    logout();\n    navigate(\"/login\");\n  };\n  const Item = ({\n    Icon,\n    to,\n    badge,\n    title\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: () => navigate(to),\n    style: {\n      position: \"relative\",\n      marginRight: \"18px\",\n      cursor: \"pointer\"\n    },\n    title: title,\n    children: [/*#__PURE__*/_jsxDEV(Icon, {\n      size: 22,\n      color: location.pathname === to ? \"#4287f5\" : undefined\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), badge > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        position: \"absolute\",\n        top: \"-6px\",\n        right: \"-8px\",\n        background: \"red\",\n        color: \"white\",\n        borderRadius: \"50%\",\n        padding: \"2px 6px\",\n        fontSize: \"11px\",\n        fontWeight: \"bold\"\n      },\n      children: badge\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n  const isAuthPage = [\"/login\", \"/signup\"].includes(location.pathname);\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"navbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar-left\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"logo\",\n        onClick: () => navigate(\"/\"),\n        children: \"Zebify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar-right\",\n      children: user && !isAuthPage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Item, {\n          Icon: FaHome,\n          to: \"/\",\n          title: \"Feed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Item, {\n          Icon: FaPlus,\n          to: \"/new-post\",\n          title: \"Nova publica\\xE7\\xE3o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Item, {\n          Icon: FaUsers,\n          to: \"/users\",\n          badge: pedidos,\n          title: \"Utilizadores / Pedidos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Item, {\n          Icon: FaUser,\n          to: \"/profile\",\n          title: \"Perfil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"welcome\",\n          children: [\"Ol\\xE1, \", user.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-sair\",\n          onClick: handleLogout,\n          children: \"Sair\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : !isAuthPage && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          children: \"Registo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(Navbar, \"jxB+012Rq8/3AXX5fHVA+sWIBvE=\", false, function () {\n  return [useAuth, useLocation, useNavigate];\n});\n_c = Navbar;\nexport default Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["React","useEffect","useState","Link","useLocation","useNavigate","useAuth","FaUsers","FaHome","FaUser","FaPlus","jsxDEV","_jsxDEV","Fragment","_Fragment","API","_process$env$REACT_AP","process","env","REACT_APP_API_URL","Navbar","_s","user","logout","location","navigate","pedidos","setPedidos","buscarPedidos","token","localStorage","getItem","res","fetch","headers","Authorization","data","json","length","err","console","error","message","t","setInterval","clearInterval","handleLogout","Item","Icon","to","badge","title","onClick","style","position","marginRight","cursor","children","size","color","pathname","undefined","fileName","_jsxFileName","lineNumber","columnNumber","top","right","background","borderRadius","padding","fontSize","fontWeight","isAuthPage","includes","className","name","_c","$RefreshReg$"],"sources":["/home/lucas/projeto/zebify/frontend/src/components/navbar.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../context/authContext\";\nimport { FaUsers, FaHome, FaUser, FaPlus } from \"react-icons/fa\"; // ⬅️ novos ícones\nimport \"../css/navbar.css\";\n\nconst API = process.env.REACT_APP_API_URL ?? \"http://localhost:3001\";\n\nconst Navbar = () => {\n  const { user, logout } = useAuth();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [pedidos, setPedidos] = useState(0);\n\n  /* ---------- contagem de pedidos ---------- */\n  const buscarPedidos = async () => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) return;\n    try {\n      const res = await fetch(`${API}/api/friends/requests`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      const data = await res.json();\n      setPedidos(data.length);\n    } catch (err) {\n      console.error(\"Erro ao buscar pedidos:\", err.message);\n    }\n  };\n  useEffect(() => {\n    if (!user) return;\n    buscarPedidos();\n    const t = setInterval(buscarPedidos, 10_000); // 10 s\n    return () => clearInterval(t);\n  }, [user]);\n  /* ----------------------------------------- */\n\n  const handleLogout = () => {\n    logout();\n    navigate(\"/login\");\n  };\n\n  const Item = ({ Icon, to, badge, title }) => (\n    <div\n      onClick={() => navigate(to)}\n      style={{ position: \"relative\", marginRight: \"18px\", cursor: \"pointer\" }}\n      title={title}\n    >\n      <Icon\n        size={22}\n        color={location.pathname === to ? \"#4287f5\" : undefined}\n      />\n      {badge > 0 && (\n        <span\n          style={{\n            position: \"absolute\",\n            top: \"-6px\",\n            right: \"-8px\",\n            background: \"red\",\n            color: \"white\",\n            borderRadius: \"50%\",\n            padding: \"2px 6px\",\n            fontSize: \"11px\",\n            fontWeight: \"bold\",\n          }}\n        >\n          {badge}\n        </span>\n      )}\n    </div>\n  );\n\n  const isAuthPage = [\"/login\", \"/signup\"].includes(location.pathname);\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"navbar-left\">\n        <span className=\"logo\" onClick={() => navigate(\"/\")}>\n          Zebify\n        </span>\n      </div>\n\n      <div className=\"navbar-right\">\n        {user && !isAuthPage ? (\n          <>\n            {/* Home */}\n            <Item Icon={FaHome} to=\"/\" title=\"Feed\" />\n\n            {/* Novo post */}\n            <Item Icon={FaPlus} to=\"/new-post\" title=\"Nova publicação\" />\n\n            {/* Utilizadores + badge */}\n            <Item\n              Icon={FaUsers}\n              to=\"/users\"\n              badge={pedidos}\n              title=\"Utilizadores / Pedidos\"\n            />\n\n            {/* Perfil */}\n            <Item Icon={FaUser} to=\"/profile\" title=\"Perfil\" />\n\n            {/* Saudação e logout */}\n            <span className=\"welcome\">Olá, {user.name}</span>\n            <button className=\"btn-sair\" onClick={handleLogout}>\n              Sair\n            </button>\n          </>\n        ) : (\n          !isAuthPage && (\n            <>\n              <Link to=\"/login\">Login</Link>\n              <Link to=\"/signup\">Registo</Link>\n            </>\n          )\n        )}\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}